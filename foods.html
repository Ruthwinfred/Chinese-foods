<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="foods.css">
    <title>Winners</title>
</head>
<body>
    <hr>
   <!-- navbar -->
    <div class="nav">
        <!-- <div class="menu">
                <ul>
                        <li>Home</li>
                        <li>Softwares</li>
                        <li>Contact us</li>
                    </ul>
        </div> -->
        <div class="cart">
                <img src="images/cart.jpg" radius="36px" alt="">
                <div class="num" style="float:right" >
                    <span id="cart-items">0</span>
                </div>              
        </div>
    </div> 
    <!-- end of navbar -->
    <!-- header carousel -->
    <!-- main page -->
    <hr>
    <div class="container" id="product-list">
        <h1 id="h1">Are you thirsty for foreign meals? Tired of same menu every time? Winners shoppers are here to provide you with Chinese tasty flavors.In a click of a button,you get your favorite dish.Try us! </h1>
        <hr>
        <p class="p-header" id="h1"><u><b>Food types</b></u><br>Click "Add to cart" button to place your food in cart.</br></p>
        <br>
        <div class="row">
            <div class="products" id="products">
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/frdeggs.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> Fried eggs</h1>
                    <p class="price"  id="price">Ksh.400.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="1">Add to Cart</button>
                </div>
                
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/wheat.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> wheat</h1>
                    <p class="price"  id="price">Ksh.250.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="2">Add to Cart</button>
                </div>
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/vegs.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> Vegetables </h1>
                     <p class="price"  id="price"> Ksh.500.00</p>
                    <button id="add-to-cart" class="add-to-cart" data-id="3">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/variet.jpg" style="width:50%">
                    </div>
                    <h1 id="name"> Shrimps</h1>
                    <p class="price"  id="price">Ksh.600.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                    <div class="product-img">
                        <img src="images/chic.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Chicken</h1>
                    <p class="price"  id="price">Ksh.300.00</p>
                    <button id="add-to-cart" class="add-to-cart" data-id="5">Add to Cart</button>
                </div>
                
                <div class="card" id="product">
                   <div class="product-img" id="product">
                        <img src="images/tofu.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Tofu</h1>
                    <p class="price" id="price">Ksh.350.00</p>
                    <button id="add-to-cart" class="add-to-cart" data-id="6">Add to Cart</button>
                    </div>
        <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/snails.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Snails</h1>
                    <p class="price"  id="price">Ksh.800.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/ms.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Mushroom soup</h1>
                    <p class="price"  id="price">Ksh.650.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/dum.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Dumplings</h1>
                    <p class="price"  id="price">Ksh.150.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/fr.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Festive rice</h1>
                    <p class="price"  id="price">Ksh.200.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div><div class="card" id="product">
                   <div class="product-img">
                        <img src="images/rbs.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Rice balls</h1>
                    <p class="price"  id="price">Ksh.250.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
                <div class="card" id="product">
                   <div class="product-img">
                        <img src="images/msr.jpg" style="width:50%">
                    </div>
                    <h1 id="name">Mushroom stew</h1>
                    <p class="price"  id="price">Ksh.650.00</p>
                   <button id="add-to-cart" class="add-to-cart" data-id="4">Add to Cart</button>
                </div>
            </div>
        </div>
        <br>
        <hr>
        <br>
        <h1 id="h1">Your order</h1>
        <br>
        <div id="shopping-cart" style="float:center">
            <table id="cart-content" class="u-full-width">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    </tr>
                </tbody>
            </table>
    </div>
       
    </div>

   

    <script>
            var products= document.getElementById('products');
            var product = document.getElementById('product');
            var cartItems= document.getElementById('cart-items');
            var shoppingCartContent = document.querySelector('#cart-content tbody');

            loadEventListeners();

            function loadEventListeners(){
                //when new products is added
                products.addEventListener('click', buyProduct);

            function buyProduct(event){
                if(event.target.classList.contains('add-to-cart')){
                    //read the product value
                const product = event.target.parentElement;
                    getProductInfo(product);
                }
            }}
            function getProductInfo(product) {
                //create an Object with product data
                var productInfo = {
                            image: product.querySelector('img').src,
                            name: product.querySelector('#name').textContent,
                            price: product.querySelector('#price').textContent,
                            id: product.querySelector('button').getAttribute('data-id')
                        }
                addToCart(productInfo);
            }

            function addToCart(productInfo){
                const row = document.createElement('tr');

                row.innerHTML = `
            <tr>
                <td>
                    <img src="${productInfo.image}" width="100">    
                </td>
                <td>
                    ${productInfo.name}
                </td>
                <td>
                    ${productInfo.price}
                </td>
            </tr>
            `
                ;
                var count = shoppingCartContent.rows.length;
                for(i=0;i<=count; i++){
                cartItems.innerHTML = i;
                }
                shoppingCartContent.appendChild(row);
            }

    
    
    </script>
</body>
</html>